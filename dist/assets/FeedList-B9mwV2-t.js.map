{"version":3,"file":"FeedList-B9mwV2-t.js","sources":["../../src/components/scanner/FeedList.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { useNavigate } from 'react-router-dom';\n\nimport { setSelectedStock } from '../../features/historicalDataSlice';\nimport './scanner.scss';\n\nconst bulishClass = 'bg-[#2A4037] text-[#07F8B5] rounded p-1 w-50';\nconst bearishClass = 'bg-[#490517] text-[#FF5361] rounded p-1 w-50';\n\nconst FeedList = ({ stocks }) => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const [sortedStocks, setSortedStocks] = useState(stocks);\n  const [sortPercentChagneAscending, setSortPercentChangeAscending] =\n    useState(false);\n  const [sortVolumeAscending, setSortVolumeAscending] = useState(false);\n\n  useEffect(() => {\n    setSortedStocks([...stocks]);\n  }, [stocks]);\n\n  const computeStockGainPercentageFromOpen = (stock) => {\n    if (!stock.isPositive) {\n      return (\n        <span className={` text-lg ${bearishClass}`}>\n          {stock.percent.toFixed(2)}%\n        </span>\n      );\n    } else {\n      return (\n        <span className={`text-lg ${bulishClass}`}>\n          {stock.percent.toFixed(2)}%\n        </span>\n      );\n    }\n  };\n\n  const handleStockClick = (stock) => {\n    dispatch(setSelectedStock(stock));\n    navigate('/news');\n  };\n  const sortByPercentChange = () => {\n    setSortPercentChangeAscending(!sortPercentChagneAscending);\n    const sortedByPercentChange = stocks.sort((a, b) => {\n      return sortPercentChagneAscending\n        ? a.percent - b.percent\n        : b.percent - a.percent;\n    });\n    setSortedStocks([...sortedByPercentChange]);\n  };\n  const sortByVolume = () => {\n    setSortVolumeAscending(!sortVolumeAscending);\n    const sortedByVolume = stocks.sort((a, b) =>\n      sortVolumeAscending ? a.volume - b.volume : b.volume - a.volume\n    );\n    setSortedStocks([...sortedByVolume]);\n  };\n\n  return (\n    <div className=\"ml-1 md:m-3 mr-1\">\n      <div className=\"stock-list\">\n        <div className=\"stock-list__header\">\n          <div className=\"column\">Symbol</div>\n          <div\n            className=\"column hover:text-brand-blue hover:cursor-pointer\"\n            onClick={sortByVolume}\n          >\n            Volume<span className=\"sort-icon\">⇅</span>\n          </div>\n          <div className=\"column\">Price</div>\n          <div\n            className=\"column hover:text-brand-blue hover:cursor-pointer\"\n            onClick={sortByPercentChange}\n          >\n            % Change<span className=\"sort-icon\">⇅</span>\n          </div>\n        </div>\n        <ul className=\"stock-list__body\">\n          {sortedStocks.map((stock, index) => (\n            <li\n              className=\"stock-list__item\"\n              key={stock.symbol}\n              onClick={() => handleStockClick(stock)}\n            >\n              <div className=\"column\">{stock.symbol}</div>\n              <div className=\"column text-slate-400\">\n                {stock.volume.toLocaleString()}\n              </div>\n              <div className=\"column\">{stock.vw}</div>\n              <div\n                className={`column ${\n                  stock.isPositive ? 'positive' : 'negative'\n                }`}\n              >\n                {stock?.percent && computeStockGainPercentageFromOpen(stock)}\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default FeedList;\n"],"names":["bulishClass","bearishClass","FeedList","stocks","dispatch","useAppDispatch","navigate","useNavigate","sortedStocks","setSortedStocks","useState","sortPercentChagneAscending","setSortPercentChangeAscending","sortVolumeAscending","setSortVolumeAscending","useEffect","computeStockGainPercentageFromOpen","stock","jsxs","handleStockClick","setSelectedStock","sortByPercentChange","sortedByPercentChange","a","b","sortByVolume","sortedByVolume","jsx","index"],"mappings":"oEAOA,MAAMA,EAAc,+CACdC,EAAe,+CAEfC,EAAW,CAAC,CAAE,OAAAC,KAAa,CAC/B,MAAMC,EAAWC,EAAe,EAC1BC,EAAWC,EAAY,EACvB,CAACC,EAAcC,CAAe,EAAIC,EAAAA,SAASP,CAAM,EACjD,CAACQ,EAA4BC,CAA6B,EAC9DF,EAAAA,SAAS,EAAK,EACV,CAACG,EAAqBC,CAAsB,EAAIJ,EAAAA,SAAS,EAAK,EAEpEK,EAAAA,UAAU,IAAM,CACEN,EAAA,CAAC,GAAGN,CAAM,CAAC,CAAA,EAC1B,CAACA,CAAM,CAAC,EAEL,MAAAa,EAAsCC,GACrCA,EAAM,WAQNC,EAAA,KAAA,OAAA,CAAK,UAAW,WAAWlB,CAAW,GACpC,SAAA,CAAMiB,EAAA,QAAQ,QAAQ,CAAC,EAAE,GAAA,EAC5B,EARCC,EAAA,KAAA,OAAA,CAAK,UAAW,YAAYjB,CAAY,GACtC,SAAA,CAAMgB,EAAA,QAAQ,QAAQ,CAAC,EAAE,GAAA,EAC5B,EAWAE,EAAoBF,GAAU,CACzBb,EAAAgB,EAAiBH,CAAK,CAAC,EAChCX,EAAS,OAAO,CAClB,EACMe,EAAsB,IAAM,CAChCT,EAA8B,CAACD,CAA0B,EACzD,MAAMW,EAAwBnB,EAAO,KAAK,CAACoB,EAAGC,IACrCb,EACHY,EAAE,QAAUC,EAAE,QACdA,EAAE,QAAUD,EAAE,OACnB,EACed,EAAA,CAAC,GAAGa,CAAqB,CAAC,CAC5C,EACMG,EAAe,IAAM,CACzBX,EAAuB,CAACD,CAAmB,EAC3C,MAAMa,EAAiBvB,EAAO,KAAK,CAACoB,EAAGC,IACrCX,EAAsBU,EAAE,OAASC,EAAE,OAASA,EAAE,OAASD,EAAE,MAC3D,EACgBd,EAAA,CAAC,GAAGiB,CAAc,CAAC,CACrC,EAEA,aACG,MAAI,CAAA,UAAU,mBACb,SAACR,EAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,qBACb,SAAA,CAACS,EAAA,IAAA,MAAA,CAAI,UAAU,SAAS,SAAM,SAAA,EAC9BT,EAAA,KAAC,MAAA,CACC,UAAU,oDACV,QAASO,EACV,SAAA,CAAA,SACQE,EAAA,IAAA,OAAA,CAAK,UAAU,YAAY,SAAC,GAAA,CAAA,CAAA,CAAA,CACrC,EACCA,EAAA,IAAA,MAAA,CAAI,UAAU,SAAS,SAAK,QAAA,EAC7BT,EAAA,KAAC,MAAA,CACC,UAAU,oDACV,QAASG,EACV,SAAA,CAAA,WACUM,EAAA,IAAA,OAAA,CAAK,UAAU,YAAY,SAAC,GAAA,CAAA,CAAA,CAAA,CAAA,CACvC,EACF,EACAA,EAAAA,IAAC,MAAG,UAAU,mBACX,WAAa,IAAI,CAACV,EAAOW,IACxBV,EAAA,KAAC,KAAA,CACC,UAAU,mBAEV,QAAS,IAAMC,EAAiBF,CAAK,EAErC,SAAA,CAAAU,EAAA,IAAC,MAAI,CAAA,UAAU,SAAU,SAAAV,EAAM,OAAO,QACrC,MAAI,CAAA,UAAU,wBACZ,SAAMA,EAAA,OAAO,iBAChB,EACCU,EAAA,IAAA,MAAA,CAAI,UAAU,SAAU,WAAM,GAAG,EAClCA,EAAA,IAAC,MAAA,CACC,UAAW,UACTV,EAAM,WAAa,WAAa,UAClC,GAEC,UAAAA,GAAA,YAAAA,EAAO,UAAWD,EAAmCC,CAAK,CAAA,CAAA,CAC7D,CAAA,EAdKA,EAAM,MAAA,CAgBd,CACH,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAEJ"}