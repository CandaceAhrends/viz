const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StockChart-svvJcUAE.js","assets/index-BVSJgABb.js","assets/index-D9pOj7r1.css","assets/index-BKNjMPK8.js"])))=>i.map(i=>d[i]);
import{j as o,$ as k,R as j,r as h,f as X,a as Y,_ as F,u as q,b as E,c as R,g as A,d as W,s as $,e as G,E as H}from"./index-BVSJgABb.js";import{p as I}from"./index-BKNjMPK8.js";const z=()=>o.jsxs("div",{className:"flex flex-col justify-center items-center h-[30rem]",children:[o.jsx("p",{className:"text-lg",children:"Loading Charts..."}),o.jsx(k,{visible:!0,height:"100",width:"100",color:"#4fa94d",ariaLabel:"line-wave-loading",wrapperStyle:{},wrapperClass:"",firstLineColor:"",middleLineColor:"",lastLineColor:""})]}),B=({news:c,symbol:r})=>{const[i,f]=j.useState([]);return h.useEffect(()=>{c&&(async()=>{const u=await Y(r);f(u.results)})()},[r]),o.jsx("div",{children:i&&o.jsxs("div",{className:"flex flex-col m-10",children:[o.jsxs("div",{className:"text-green",children:[X(c.published_utc),o.jsx("div",{children:c.title})]}),o.jsxs("ul",{children:[o.jsx("li",{children:i.name}),o.jsx("li",{children:i.primary_exchange}),o.jsx("li",{children:i.description}),o.jsx("li",{children:i.sic_description})]})]})})},V=j.lazy(()=>F(()=>import("./StockChart-svvJcUAE.js"),__vite__mapDeps([0,1,2,3]))),J=({timeFrame:c})=>{const r=q(),{stock:i,date:f}=E(u=>u.stocks.selectedChart),d=r.state;return o.jsxs(h.Suspense,{fallback:o.jsx(z,{}),children:[o.jsx(V,{symbol:i.symbol,date:f,timeFrame:c},i==null?void 0:i.symbol),d&&o.jsx(B,{news:d,symbol:i==null?void 0:i.symbol})]})},K=["1m","5m","15m","30m"],Q=({activeTime:c,setActiveTime:r})=>o.jsxs("div",{className:"time-frame-selector",children:[o.jsx("span",{children:"Time frame:"}),K.map(i=>o.jsx("button",{className:`time-frame-option ${c===i?"active":""}`,onClick:()=>r(i),children:i},i))]});var D={},v={},M;function Z(){return M||(M=1,function(c){(function(r,i){i(c,h,I)})(R,function(r,i,f){Object.defineProperty(r,"__esModule",{value:!0}),r.setHasSupportToCaptureOption=y;var d=S(i),u=S(f);function S(t){return t&&t.__esModule?t:{default:t}}var P=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&(t[e]=s[e])}return t};function N(t,n){var s={};for(var e in t)n.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e]);return s}function O(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var L=function(){function t(n,s){for(var e=0;e<s.length;e++){var l=s[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}return function(n,s,e){return s&&t(n.prototype,s),e&&t(n,e),n}}();function T(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t}function C(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var _=!1;function y(t){_=t}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){y(!0)}}))}catch{}function x(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return _?t:!1}function b(t){if("touches"in t){var n=t.touches[0],s=n.pageX,e=n.pageY;return{x:s,y:e}}var l=t.screenX,p=t.screenY;return{x:l,y:p}}var m=function(t){C(n,t);function n(){var s;O(this,n);for(var e=arguments.length,l=Array(e),p=0;p<e;p++)l[p]=arguments[p];var a=T(this,(s=n.__proto__||Object.getPrototypeOf(n)).call.apply(s,[this].concat(l)));return a._handleSwipeStart=a._handleSwipeStart.bind(a),a._handleSwipeMove=a._handleSwipeMove.bind(a),a._handleSwipeEnd=a._handleSwipeEnd.bind(a),a._onMouseDown=a._onMouseDown.bind(a),a._onMouseMove=a._onMouseMove.bind(a),a._onMouseUp=a._onMouseUp.bind(a),a._setSwiperRef=a._setSwiperRef.bind(a),a}return L(n,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,x({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,x({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var l=b(e),p=l.x,a=l.y;this.moveStart={x:p,y:a},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var l=b(e),p=l.x,a=l.y,w=p-this.moveStart.x,g=a-this.moveStart.y;this.moving=!0;var U=this.props.onSwipeMove({x:w,y:g},e);U&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:w,deltaY:g}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var l=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-l?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>l&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-l?this.props.onSwipeUp(1,e):this.movePosition.deltaY>l&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props;e.tagName;var l=e.className,p=e.style,a=e.children;e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance;var w=N(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return d.default.createElement(this.props.tagName,P({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:l,style:p},w),a)}}]),n}(i.Component);m.displayName="ReactSwipe",m.propTypes={tagName:u.default.string,className:u.default.string,style:u.default.object,children:u.default.node,allowMouseEvents:u.default.bool,onSwipeUp:u.default.func,onSwipeDown:u.default.func,onSwipeLeft:u.default.func,onSwipeRight:u.default.func,onSwipeStart:u.default.func,onSwipeMove:u.default.func,onSwipeEnd:u.default.func,innerRef:u.default.func,tolerance:u.default.number.isRequired},m.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},r.default=m})}(v)),v}(function(c){(function(r,i){i(c,Z())})(R,function(r,i){Object.defineProperty(r,"__esModule",{value:!0});var f=d(i);function d(u){return u&&u.__esModule?u:{default:u}}r.default=f.default})})(D);const ee=A(D),te=({onPrev:c,onNext:r,enabled:i,children:f})=>o.jsx(ee,{onSwipeLeft:c,onSwipeRight:r,children:o.jsxs("div",{className:"carousel",children:[f,o.jsxs("div",{className:`carousel-nav ${i?"":"hidden"}`,children:[o.jsx("button",{className:"hover:text-brand-blue",onClick:c,"aria-label":"Go to the previous slice",children:"◀"}),o.jsx("button",{className:"hover:text-brand-blue",onClick:r,"aria-label":"Go to the next slide",children:"▶"})]})]})}),ne=()=>{const c=W(),[r,i]=h.useState("1m");return o.jsx(te,{enabled:!0,onNext:()=>c($()),onPrev:()=>c(G()),children:o.jsxs("div",{className:"relative",children:[o.jsx(J,{timeFrame:r}),o.jsx("div",{className:"flex justify-center absolute top-10 left-3 items-center",children:o.jsx(Q,{activeTime:r,setActiveTime:i})})]})})},oe=()=>{console.log("chart grid redraw");const c=E(r=>r.historicalData.hasError);return h.useEffect(()=>{console.log("chart grid mounted");const r=document.getElementById("chart-wrapper");return r&&(r.style.display="block"),()=>{r&&(r.style.display="none")}},[]),o.jsx(o.Fragment,{children:c?o.jsx(H,{}):o.jsx(ne,{})})},ae=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{ae as C,z as L};
//# sourceMappingURL=Chart-BmJLv1tO.js.map
