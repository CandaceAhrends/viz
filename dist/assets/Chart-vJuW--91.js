const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StockChart-CR3OYUY_.js","assets/index-BXfNfdmS.js","assets/index-XZAccZ5y.css","assets/index-BKNjMPK8.js"])))=>i.map(i=>d[i]);
import{j as n,$ as U,R as j,r as h,f as X,a as Y,_ as q,u as F,b as E,c as R,g as A,d as H,s as W,e as $,E as B}from"./index-BXfNfdmS.js";import{p as G}from"./index-BKNjMPK8.js";const I=()=>n.jsxs("div",{className:"flex flex-col justify-center items-center h-[30rem]",children:[n.jsx("p",{className:"text-lg",children:"Loading Charts..."}),n.jsx(U,{visible:!0,height:"100",width:"100",color:"#4fa94d",ariaLabel:"line-wave-loading",wrapperStyle:{},wrapperClass:"",firstLineColor:"",middleLineColor:"",lastLineColor:""})]}),z=({news:u,symbol:r})=>{const[i,d]=j.useState([]);return h.useEffect(()=>{u&&(async()=>{const l=await Y(r);d(l.results)})()},[r]),h.useEffect(()=>{document.querySelector("aside").style.display="none"},[]),n.jsx("div",{children:i&&n.jsxs("div",{className:"flex flex-col m-10 chart-desc",children:[n.jsxs("div",{className:"text-green",children:[X(u.published_utc),n.jsx("div",{children:u.title})]}),n.jsxs("ul",{children:[n.jsx("li",{children:i.name}),n.jsx("li",{children:i.primary_exchange}),n.jsx("li",{children:i.description}),n.jsx("li",{children:i.sic_description})]})]})})},Z=j.lazy(()=>q(()=>import("./StockChart-CR3OYUY_.js"),__vite__mapDeps([0,1,2,3]))),V=({timeFrame:u})=>{const r=F(),{stock:i,date:d}=E(l=>l.stocks.selectedChart),f=r.state;return n.jsxs(h.Suspense,{fallback:n.jsx(I,{}),children:[n.jsx(Z,{symbol:i.symbol,date:d,timeFrame:u},i==null?void 0:i.symbol),f&&n.jsx(z,{news:f,symbol:i==null?void 0:i.symbol})]})},J=["1m","5m","15m","30m"],K=({activeTime:u,setActiveTime:r})=>n.jsxs("div",{className:"time-frame-selector",children:[n.jsx("span",{children:"Time frame:"}),J.map(i=>n.jsx("button",{className:`time-frame-option ${u===i?"active":""}`,onClick:()=>r(i),children:i},i))]});var D={},m={},b;function Q(){return b||(b=1,function(u){(function(r,i){i(u,h,G)})(R,function(r,i,d){Object.defineProperty(r,"__esModule",{value:!0}),r.setHasSupportToCaptureOption=x;var f=S(i),l=S(d);function S(t){return t&&t.__esModule?t:{default:t}}var L=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t};function C(t,o){var a={};for(var e in t)o.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e]);return a}function O(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}var P=function(){function t(o,a){for(var e=0;e<a.length;e++){var c=a[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,a,e){return a&&t(o.prototype,a),e&&t(o,e),o}}();function k(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:t}function N(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)}var _=!1;function x(t){_=t}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){x(!0)}}))}catch{}function g(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return _?t:!1}function y(t){if("touches"in t){var o=t.touches[0],a=o.pageX,e=o.pageY;return{x:a,y:e}}var c=t.screenX,p=t.screenY;return{x:c,y:p}}var w=function(t){N(o,t);function o(){var a;O(this,o);for(var e=arguments.length,c=Array(e),p=0;p<e;p++)c[p]=arguments[p];var s=k(this,(a=o.__proto__||Object.getPrototypeOf(o)).call.apply(a,[this].concat(c)));return s._handleSwipeStart=s._handleSwipeStart.bind(s),s._handleSwipeMove=s._handleSwipeMove.bind(s),s._handleSwipeEnd=s._handleSwipeEnd.bind(s),s._onMouseDown=s._onMouseDown.bind(s),s._onMouseMove=s._onMouseMove.bind(s),s._onMouseUp=s._onMouseUp.bind(s),s._setSwiperRef=s._setSwiperRef.bind(s),s}return P(o,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,g({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,g({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var c=y(e),p=c.x,s=c.y;this.moveStart={x:p,y:s},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var c=y(e),p=c.x,s=c.y,v=p-this.moveStart.x,M=s-this.moveStart.y;this.moving=!0;var T=this.props.onSwipeMove({x:v,y:M},e);T&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:v,deltaY:M}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var c=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-c?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>c&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-c?this.props.onSwipeUp(1,e):this.movePosition.deltaY>c&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props;e.tagName;var c=e.className,p=e.style,s=e.children;e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance;var v=C(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return f.default.createElement(this.props.tagName,L({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:c,style:p},v),s)}}]),o}(i.Component);w.displayName="ReactSwipe",w.propTypes={tagName:l.default.string,className:l.default.string,style:l.default.object,children:l.default.node,allowMouseEvents:l.default.bool,onSwipeUp:l.default.func,onSwipeDown:l.default.func,onSwipeLeft:l.default.func,onSwipeRight:l.default.func,onSwipeStart:l.default.func,onSwipeMove:l.default.func,onSwipeEnd:l.default.func,innerRef:l.default.func,tolerance:l.default.number.isRequired},w.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},r.default=w})}(m)),m}(function(u){(function(r,i){i(u,Q())})(R,function(r,i){Object.defineProperty(r,"__esModule",{value:!0});var d=f(i);function f(l){return l&&l.__esModule?l:{default:l}}r.default=d.default})})(D);const ee=A(D),te=()=>n.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 8L8 12M8 12L12 16M8 12H16M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})}),ne=()=>n.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M12 16L16 12M16 12L12 8M16 12H8M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})}),oe=({onPrev:u,onNext:r,enabled:i,children:d})=>{const f=h.useCallback(u),l=h.useCallback(r);return n.jsx(ee,{onSwipeLeft:u,onSwipeRight:r,children:n.jsxs("div",{className:"carousel",children:[n.jsx("section",{children:d}),n.jsxs("aside",{className:"carousel-nav-lg",children:[n.jsx("section",{onClick:f,"aria-label":"Go to the previous slice",children:n.jsx(te,{})},"on-prev"),n.jsx("section",{onClick:l,"aria-label":"Go to the next slide",children:n.jsx(ne,{})},"on-next")]},"carousel-button-nav")]})})},ie=()=>{const u=H(),[r,i]=h.useState("1m");return n.jsx(oe,{enabled:!0,onNext:()=>u(W()),onPrev:()=>u($()),children:n.jsxs("div",{className:"relative",children:[n.jsx(V,{timeFrame:r}),n.jsx("div",{className:"flex justify-center absolute top-10 left-3 items-center",children:n.jsx(K,{activeTime:r,setActiveTime:i})})]})})},re=()=>{console.log("chart grid redraw");const u=E(r=>r.historicalData.hasError);return h.useEffect(()=>{console.log("chart grid mounted");const r=document.getElementById("chart-wrapper");return r&&(r.style.display="block"),()=>{r&&(r.style.display="none")}},[]),n.jsx(n.Fragment,{children:u?n.jsx(B,{}):n.jsx(ie,{})})},le=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));export{le as C,I as L};
//# sourceMappingURL=Chart-vJuW--91.js.map
