import{R as x,r as f,j as l,d as z,b as w,m as K,i as O,n as R,o as B,p as A,l as F,E as L}from"./index-BVSJgABb.js";import{r as C}from"./index-C56QfYCY.js";import V from"./ViewSvg-CqMvokUa.js";import{F as I}from"./FeedList-B9mwV2-t.js";import"./index-BKNjMPK8.js";function j(a,c){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},j(a,c)}function U(a,c){a.prototype=Object.create(c.prototype),a.prototype.constructor=a,j(a,c)}function N(a){return a&&a.stopPropagation&&a.stopPropagation(),a&&a.preventDefault&&a.preventDefault(),!1}function P(a){return a==null?[]:Array.isArray(a)?a.slice():[a]}function y(a){return a!==null&&a.length===1?a[0]:a.slice()}function M(a){Object.keys(a).forEach(c=>{typeof document<"u"&&document.addEventListener(c,a[c],!1)})}function v(a,c){return E(function(r,t){let e=r;return e<=t.min&&(e=t.min),e>=t.max&&(e=t.max),e}(a,c),c)}function E(a,c){const r=(a-c.min)%c.step;let t=a-r;return 2*Math.abs(r)>=c.step&&(t+=r>0?c.step:-c.step),parseFloat(t.toFixed(5))}let D=function(a){function c(t){var e;(e=a.call(this,t)||this).onKeyUp=()=>{e.onEnd()},e.onMouseUp=()=>{e.onEnd(e.getMouseEventMap())},e.onTouchEnd=s=>{s.preventDefault(),e.onEnd(e.getTouchEventMap())},e.onBlur=()=>{e.setState({index:-1},e.onEnd(e.getKeyDownEventMap()))},e.onMouseMove=s=>{e.setState({pending:!0});const o=e.getMousePosition(s),p=e.getDiffPosition(o[0]),u=e.getValueFromPosition(p);e.move(u)},e.onTouchMove=s=>{if(s.touches.length>1)return;e.setState({pending:!0});const o=e.getTouchPosition(s);if(e.isScrolling===void 0){const h=o[0]-e.startPosition[0],d=o[1]-e.startPosition[1];e.isScrolling=Math.abs(d)>Math.abs(h)}if(e.isScrolling)return void e.setState({index:-1});const p=e.getDiffPosition(o[0]),u=e.getValueFromPosition(p);e.move(u)},e.onKeyDown=s=>{if(!(s.ctrlKey||s.shiftKey||s.altKey||s.metaKey))switch(e.setState({pending:!0}),s.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":s.preventDefault(),e.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":s.preventDefault(),e.moveUpByStep();break;case"Home":s.preventDefault(),e.move(e.props.min);break;case"End":s.preventDefault(),e.move(e.props.max);break;case"PageDown":s.preventDefault(),e.moveDownByStep(e.props.pageFn(e.props.step));break;case"PageUp":s.preventDefault(),e.moveUpByStep(e.props.pageFn(e.props.step))}},e.onSliderMouseDown=s=>{if(!e.props.disabled&&s.button!==2){if(e.setState({pending:!0}),!e.props.snapDragDisabled){const o=e.getMousePosition(s);e.forceValueFromPosition(o[0],p=>{e.start(p,o[0]),M(e.getMouseEventMap())})}N(s)}},e.onSliderClick=s=>{if(!e.props.disabled&&e.props.onSliderClick&&!e.hasMoved){const o=e.getMousePosition(s),p=v(e.calcValue(e.calcOffsetFromPosition(o[0])),e.props);e.props.onSliderClick(p)}},e.createOnKeyDown=s=>o=>{e.props.disabled||(e.start(s),M(e.getKeyDownEventMap()),N(o))},e.createOnMouseDown=s=>o=>{if(e.props.disabled||o.button===2)return;e.setState({pending:!0});const p=e.getMousePosition(o);e.start(s,p[0]),M(e.getMouseEventMap()),N(o)},e.createOnTouchStart=s=>o=>{if(e.props.disabled||o.touches.length>1)return;e.setState({pending:!0});const p=e.getTouchPosition(o);e.startPosition=p,e.isScrolling=void 0,e.start(s,p[0]),M(e.getTouchEventMap()),function(u){u.stopPropagation&&u.stopPropagation()}(o)},e.handleResize=()=>{const s=window.setTimeout(()=>{e.pendingResizeTimeouts.shift(),e.resize()},0);e.pendingResizeTimeouts.push(s)},e.renderThumb=(s,o)=>{const p=e.props.thumbClassName+" "+e.props.thumbClassName+"-"+o+" "+(e.state.index===o?e.props.thumbActiveClassName:""),u={ref:d=>{e["thumb"+o]=d},key:e.props.thumbClassName+"-"+o,className:p,style:s,onMouseDown:e.createOnMouseDown(o),onTouchStart:e.createOnTouchStart(o),onFocus:e.createOnKeyDown(o),tabIndex:0,role:"slider","aria-orientation":e.props.orientation,"aria-valuenow":e.state.value[o],"aria-valuemin":e.props.min,"aria-valuemax":e.props.max,"aria-label":Array.isArray(e.props.ariaLabel)?e.props.ariaLabel[o]:e.props.ariaLabel,"aria-labelledby":Array.isArray(e.props.ariaLabelledby)?e.props.ariaLabelledby[o]:e.props.ariaLabelledby,"aria-disabled":e.props.disabled},h={index:o,value:y(e.state.value),valueNow:e.state.value[o]};return e.props.ariaValuetext&&(u["aria-valuetext"]=typeof e.props.ariaValuetext=="string"?e.props.ariaValuetext:e.props.ariaValuetext(h)),e.props.renderThumb(u,h)},e.renderTrack=(s,o,p)=>{const u={key:e.props.trackClassName+"-"+s,className:e.props.trackClassName+" "+e.props.trackClassName+"-"+s,style:e.buildTrackStyle(o,e.state.upperBound-p)},h={index:s,value:y(e.state.value)};return e.props.renderTrack(u,h)};let n=P(t.value);n.length||(n=P(t.defaultValue)),e.pendingResizeTimeouts=[];const i=[];for(let s=0;s<n.length;s+=1)n[s]=v(n[s],t),i.push(s);return e.resizeObserver=null,e.resizeElementRef=x.createRef(),e.state={index:-1,upperBound:0,sliderLength:0,value:n,zIndices:i},e}U(c,a);var r=c.prototype;return r.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},c.getDerivedStateFromProps=function(t,e){const n=P(t.value);return n.length?e.pending?null:{value:n.map(i=>v(i,t))}:null},r.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},r.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},r.onEnd=function(t){t&&function(e){Object.keys(e).forEach(n=>{typeof document<"u"&&document.removeEventListener(n,e[n],!1)})}(t),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},r.getValue=function(){return y(this.state.value)},r.getClosestIndex=function(t){let e=Number.MAX_VALUE,n=-1;const{value:i}=this.state,s=i.length;for(let o=0;o<s;o+=1){const p=this.calcOffset(i[o]),u=Math.abs(t-p);u<e&&(e=u,n=o)}return n},r.getMousePosition=function(t){return[t["page"+this.axisKey()],t["page"+this.orthogonalAxisKey()]]},r.getTouchPosition=function(t){const e=t.touches[0];return[e["page"+this.axisKey()],e["page"+this.orthogonalAxisKey()]]},r.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},r.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},r.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},r.getValueFromPosition=function(t){const e=t/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return v(this.state.startValue+e,this.props)},r.getDiffPosition=function(t){let e=t-this.state.startPosition;return this.props.invert&&(e*=-1),e},r.resize=function(){const{slider:t,thumb0:e}=this;if(!t||!e)return;const n=this.sizeKey(),i=t.getBoundingClientRect(),s=t[n],o=i[this.posMaxKey()],p=i[this.posMinKey()],u=e.getBoundingClientRect()[n.replace("client","").toLowerCase()],h=s-u,d=Math.abs(o-p);this.state.upperBound===h&&this.state.sliderLength===d&&this.state.thumbSize===u||this.setState({upperBound:h,sliderLength:d,thumbSize:u})},r.calcOffset=function(t){const e=this.props.max-this.props.min;return e===0?0:(t-this.props.min)/e*this.state.upperBound},r.calcValue=function(t){return t/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},r.calcOffsetFromPosition=function(t){const{slider:e}=this,n=e.getBoundingClientRect(),i=n[this.posMaxKey()],s=n[this.posMinKey()];let o=t-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?i:s));return this.props.invert&&(o=this.state.sliderLength-o),o-=this.state.thumbSize/2,o},r.forceValueFromPosition=function(t,e){const n=this.calcOffsetFromPosition(t),i=this.getClosestIndex(n),s=v(this.calcValue(n),this.props),o=this.state.value.slice();o[i]=s;for(let p=0;p<o.length-1;p+=1)if(o[p+1]-o[p]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:o},()=>{e(i),this.fireChangeEvent("onChange")})},r.clearPendingResizeTimeouts=function(){do{const t=this.pendingResizeTimeouts.shift();clearTimeout(t)}while(this.pendingResizeTimeouts.length)},r.start=function(t,e){const n=this["thumb"+t];n&&n.focus();const{zIndices:i}=this.state;i.splice(i.indexOf(t),1),i.push(t),this.setState(s=>({startValue:s.value[t],startPosition:e!==void 0?e:s.startPosition,index:t,zIndices:i}))},r.moveUpByStep=function(t){t===void 0&&(t=this.props.step);const e=this.state.value[this.state.index],n=v(this.props.invert&&this.props.orientation==="horizontal"?e-t:e+t,this.props);this.move(Math.min(n,this.props.max))},r.moveDownByStep=function(t){t===void 0&&(t=this.props.step);const e=this.state.value[this.state.index],n=v(this.props.invert&&this.props.orientation==="horizontal"?e+t:e-t,this.props);this.move(Math.max(n,this.props.min))},r.move=function(t){const e=this.state.value.slice(),{index:n}=this.state,{length:i}=e,s=e[n];if(t===s)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:o,max:p,min:u,minDistance:h}=this.props;if(!o){if(n>0){const d=e[n-1];t<d+h&&(t=d+h)}if(n<i-1){const d=e[n+1];t>d-h&&(t=d-h)}}e[n]=t,o&&i>1&&(t>s?(this.pushSucceeding(e,h,n),function(d,g,S,k){for(let m=0;m<d;m+=1){const b=k-m*S;g[d-1-m]>b&&(g[d-1-m]=b)}}(i,e,h,p)):t<s&&(this.pushPreceding(e,h,n),function(d,g,S,k){for(let m=0;m<d;m+=1){const b=k+m*S;g[m]<b&&(g[m]=b)}}(i,e,h,u))),this.setState({value:e},this.fireChangeEvent.bind(this,"onChange"))},r.pushSucceeding=function(t,e,n){let i,s;for(i=n,s=t[i]+e;t[i+1]!==null&&s>t[i+1];i+=1,s=t[i]+e)t[i+1]=E(s,this.props)},r.pushPreceding=function(t,e,n){for(let i=n,s=t[i]-e;t[i-1]!==null&&s<t[i-1];i-=1,s=t[i]-e)t[i-1]=E(s,this.props)},r.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},r.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},r.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},r.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},r.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},r.fireChangeEvent=function(t){this.props[t]&&this.props[t](y(this.state.value),this.state.index)},r.buildThumbStyle=function(t,e){const n={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(e)+1};return n[this.posMinKey()]=t+"px",n},r.buildTrackStyle=function(t,e){const n={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return n[this.posMinKey()]=t,n[this.posMaxKey()]=e,n},r.buildMarkStyle=function(t){var e;return(e={position:"absolute"})[this.posMinKey()]=t,e},r.renderThumbs=function(t){const{length:e}=t,n=[];for(let s=0;s<e;s+=1)n[s]=this.buildThumbStyle(t[s],s);const i=[];for(let s=0;s<e;s+=1)i[s]=this.renderThumb(n[s],s);return i},r.renderTracks=function(t){const e=[],n=t.length-1;e.push(this.renderTrack(0,0,t[0]));for(let i=0;i<n;i+=1)e.push(this.renderTrack(i+1,t[i],t[i+1]));return e.push(this.renderTrack(n+1,t[n],this.state.upperBound)),e},r.renderMarks=function(){let{marks:t}=this.props;const e=this.props.max-this.props.min+1;return typeof t=="boolean"?t=Array.from({length:e}).map((n,i)=>i):typeof t=="number"&&(t=Array.from({length:e}).map((n,i)=>i).filter(n=>n%t==0)),t.map(parseFloat).sort((n,i)=>n-i).map(n=>{const i=this.calcOffset(n),s={key:n,className:this.props.markClassName,style:this.buildMarkStyle(i)};return this.props.renderMark(s)})},r.render=function(){const t=[],{value:e}=this.state,n=e.length;for(let p=0;p<n;p+=1)t[p]=this.calcOffset(e[p],p);const i=this.props.withTracks?this.renderTracks(t):null,s=this.renderThumbs(t),o=this.props.marks?this.renderMarks():null;return x.createElement("div",{ref:p=>{this.slider=p,this.resizeElementRef.current=p},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},i,s,o)},c}(x.Component);D.displayName="ReactSlider",D.defaultProps={min:0,max:100,step:1,pageFn:a=>10*a,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:a=>x.createElement("div",a),renderTrack:a=>x.createElement("div",a),renderMark:a=>x.createElement("span",a)};var _=D;const H=({onRangeChange:a,min:c,max:r,initialMin:t,initialMax:e,title:n})=>{const[i,s]=f.useState([t,e]);return f.useEffect(()=>{a(i)},[i]),l.jsx(l.Fragment,{children:l.jsxs("div",{className:"slider-container",children:[l.jsx("label",{className:"text-white flex",children:n}),l.jsxs("div",{className:"range-labels",children:[l.jsx("span",{children:i[0]}),l.jsx("span",{children:i[1]})]}),l.jsx(_,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",value:i,min:c,max:r,step:5,onChange:o=>s(o),ariaLabel:["Lower thumb","Upper thumb"]})]})})},T=({value:a,setValue:c,min:r,max:t})=>(f.useEffect(()=>{a<r?c(r):a>t&&c(t)},[a]),l.jsxs("div",{className:"scan relative w-[10rem] mr-5",children:[l.jsx(C.Input,{type:"number",value:a,onChange:e=>c(e.target.value),className:"!border-t-blue-gray-200 text-white placeholder:text-blue-gray-300 placeholder:opacity-100  focus:!border-t-gray-900 appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",labelProps:{className:"before:content-none after:content-none"},containerProps:{className:"min-w-0"}}),l.jsxs("div",{className:"absolute right-1 top-1 flex gap-0.5",children:[l.jsx(C.IconButton,{size:"sm",className:"rounded",onClick:()=>c(e=>Number.parseInt(e)<r?0:Number.parseInt(e)-1),children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4",children:l.jsx("path",{d:"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"})})}),l.jsx(C.IconButton,{size:"sm",className:"rounded",onClick:()=>c(e=>Number.parseInt(e)>t?0:Number.parseInt(e)+1),children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4",children:l.jsx("path",{d:"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"})})})]})]})),X=()=>{const a=z(),c=w(h=>h.scanner.config),[r,t]=f.useState(c.minPrice),[e,n]=f.useState(c.maxPrice),[i,s]=f.useState(c.minChange),[o,p]=f.useState(c.maxChange),u=h=>{const[d,g]=h;s(d),p(g)};return f.useEffect(()=>{a(K({minPrice:r,maxPrice:e,minChange:i,maxChange:o}))},[r,e,i,o]),l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"w-[100%] pb-3",children:[l.jsx("h5",{className:"ml-5 mt-1",children:"Historical Scanner"}),l.jsxs("div",{className:"flex m-[1.5rem] ",children:[l.jsx("label",{className:"mr-5  w-[2.5rem] text-xs",children:"Price"}),l.jsx(T,{value:r,setValue:t,min:0,max:2999}),l.jsx(T,{value:e,setValue:n,min:1,max:3e3})]}),l.jsxs("div",{className:"flex m-[1.5rem]",children:[l.jsx("label",{className:"mr-5 w-[2.5rem] text-xs",children:"Change"}),l.jsx(H,{title:"",onRangeChange:u,min:-50,max:1e3,initialMin:i,initialMax:o})]})]})})},W=()=>{const a=z(),c=O(),r=w(s=>s.historicalData.topVolume),t=w(s=>s.scanner.config),[e,n]=x.useState([]);f.useEffect(()=>{if(r){const s=r.filter(R(t));a(B(s)),n([...s])}},[t,r]);const i=async()=>{const s=A(e.map(o=>o.symbol));a(F("news")),c("/tiingo",{state:s})};return l.jsxs("div",{children:[l.jsx("div",{className:"flex",children:l.jsx("div",{className:"flex  hover:cursor-pointer pl-3 pt-3",onClick:i,children:l.jsxs("div",{className:"view-all-button",children:[l.jsx(V,{}),l.jsxs("span",{className:"text ml-1",children:[l.jsx("span",{className:"text-green",children:"Current"})," News"]})]})})}),l.jsx(I,{stocks:e})]})},Y=({children:a})=>l.jsx("div",{className:"gradient border-b border-green",children:a}),$=()=>{const a=w(c=>c.historicalData.hasError);return l.jsx("div",{children:a?l.jsx(L,{}):l.jsxs(l.Fragment,{children:[l.jsx(Y,{children:l.jsx(X,{})}),l.jsx(W,{})]})})};export{$ as default};
//# sourceMappingURL=Scanner-Df0rCvSL.js.map
